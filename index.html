<html>

<head>

    <script src="signer.js" type="text/javascript"></script>
    <script src="epp.js" type="text/javascript"></script>

</head>

<body>
    <script>
        var key, cer, pass

        var xhr = new XMLHttpRequest();


        xhr.open('GET', 'keys.php', false);


        xhr.send();


        if (xhr.status != 200) {

            console.log(xhr.status + ': ' + xhr.statusText);
        } else {
            var json = JSON.parse(xhr.responseText)
            key = json.key;
            cer = json.cer;
            pass = json.pass;
        }


        signedData = sign("test", key, cer, pass)


        console.log(signedData)


        unsignedData = decrypt(signedData, false);

        console.log('\n' + unsignedData.data)

        console.log('\n' + atob(unsignedData.data))
    </script>
</body>

</html>